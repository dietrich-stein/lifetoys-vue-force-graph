import{A as m,M as _,O as E,d as z,r as T,a as W,c as A,o as F}from"./vendor.bc4ce3e1.js";class v extends E{constructor(i=document.createElement("div")){super();this.element=i,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(r){r.element instanceof Element&&r.element.parentNode!==null&&r.element.parentNode.removeChild(r.element)})})}copy(i,r){return super.copy(i,r),this.element=i.element.cloneNode(!0),this}}v.prototype.isCSS2DObject=!0;const l=new m,y=new _,g=new _,S=new m,M=new m;class N{constructor(i={}){const r=this;let h,o,s,d;const p={objects:new WeakMap},u=i.element!==void 0?i.element:document.createElement("div");u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:h,height:o}},this.render=function(e,t){e.autoUpdate===!0&&e.updateMatrixWorld(),t.parent===null&&t.updateMatrixWorld(),y.copy(t.matrixWorldInverse),g.multiplyMatrices(t.projectionMatrix,y),x(e,e,t),D(e)},this.setSize=function(e,t){h=e,o=t,s=h/2,d=o/2,u.style.width=e+"px",u.style.height=t+"px"};function x(e,t,a){if(e.isCSS2DObject){e.onBeforeRender(r,t,a),l.setFromMatrixPosition(e.matrixWorld),l.applyMatrix4(g);const n=e.element;/apple/i.test(navigator.vendor)?n.style.transform="translate(-50%,-50%) translate("+Math.round(l.x*s+s)+"px,"+Math.round(-l.y*d+d)+"px)":n.style.transform="translate(-50%,-50%) translate("+(l.x*s+s)+"px,"+(-l.y*d+d)+"px)",n.style.display=e.visible&&l.z>=-1&&l.z<=1?"":"none";const c={distanceToCameraSquared:C(a,e)};p.objects.set(e,c),n.parentNode!==u&&u.appendChild(n),e.onAfterRender(r,t,a)}for(let n=0,c=e.children.length;n<c;n++)x(e.children[n],t,a)}function C(e,t){return S.setFromMatrixPosition(e.matrixWorld),M.setFromMatrixPosition(t.matrixWorld),S.distanceToSquared(M)}function w(e){const t=[];return e.traverse(function(a){a.isCSS2DObject&&t.push(a)}),t}function D(e){const t=w(e).sort(function(n,c){const O=p.objects.get(n).distanceToCameraSquared,b=p.objects.get(c).distanceToCameraSquared;return O-b}),a=t.length;for(let n=0,c=t.length;n<c;n++)t[n].element.style.zIndex=a-n}}}const k=z({setup(f){const i=[new N],r=T({nodes:[],links:[]});fetch("/miserables.json").then(o=>o.json()).then(o=>r.value=o);function h(o){const s=document.createElement("div");return s.textContent=o.id,s.style.color=o.color,s.className="node-label",new v(s)}return(o,s)=>{const d=W("VueForceGraph3D");return F(),A(d,{extraRenderers:i,graphData:r.value,backgroundColor:"#090723",nodeAutoColorBy:"group",nodeThreeObject:h,nodeThreeObjectExtend:!0},null,8,["graphData"])}}});export{k as default};
