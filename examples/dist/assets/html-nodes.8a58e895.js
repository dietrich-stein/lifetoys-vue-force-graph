import{V as f,M as C,O as E,d as z,a as T,g as W,i as F,j as N}from"./index.7e1067b4.js";class b extends E{constructor(i=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=i,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(r){r.element instanceof Element&&r.element.parentNode!==null&&r.element.parentNode.removeChild(r.element)})})}copy(i,r){return super.copy(i,r),this.element=i.element.cloneNode(!0),this}}const c=new f,v=new C,y=new C,g=new f,S=new f;class k{constructor(i={}){const r=this;let u,o,l,h;const p={objects:new WeakMap},d=i.element!==void 0?i.element:document.createElement("div");d.style.overflow="hidden",this.domElement=d,this.getSize=function(){return{width:u,height:o}},this.render=function(e,t){e.autoUpdate===!0&&e.updateMatrixWorld(),t.parent===null&&t.updateMatrixWorld(),v.copy(t.matrixWorldInverse),y.multiplyMatrices(t.projectionMatrix,v),_(e,e,t),O(e)},this.setSize=function(e,t){u=e,o=t,l=u/2,h=o/2,d.style.width=e+"px",d.style.height=t+"px"};function _(e,t,s){if(e.isCSS2DObject){c.setFromMatrixPosition(e.matrixWorld),c.applyMatrix4(y);const n=e.visible===!0&&c.z>=-1&&c.z<=1&&e.layers.test(s.layers)===!0;if(e.element.style.display=n===!0?"":"none",n===!0){e.onBeforeRender(r,t,s);const m=e.element;m.style.transform="translate(-50%,-50%) translate("+(c.x*l+l)+"px,"+(-c.y*h+h)+"px)",m.parentNode!==d&&d.appendChild(m),e.onAfterRender(r,t,s)}const a={distanceToCameraSquared:w(s,e)};p.objects.set(e,a)}for(let n=0,a=e.children.length;n<a;n++)_(e.children[n],t,s)}function w(e,t){return g.setFromMatrixPosition(e.matrixWorld),S.setFromMatrixPosition(t.matrixWorld),g.distanceToSquared(S)}function M(e){const t=[];return e.traverse(function(s){s.isCSS2DObject&&t.push(s)}),t}function O(e){const t=M(e).sort(function(n,a){if(n.renderOrder!==a.renderOrder)return a.renderOrder-n.renderOrder;const m=p.objects.get(n).distanceToCameraSquared,D=p.objects.get(a).distanceToCameraSquared;return m-D}),s=t.length;for(let n=0,a=t.length;n<a;n++)t[n].element.style.zIndex=s-n}}}const A=z({__name:"html-nodes",setup(x){const i=[new k],r=T({nodes:[],links:[]});fetch("/miserables.json").then(o=>o.json()).then(o=>r.value=o);function u(o){const l=document.createElement("div");return l.textContent=o.id,l.style.color=o.color,l.className="node-label",new b(l)}return(o,l)=>{const h=F("VueForceGraph3D");return N(),W(h,{extraRenderers:i,graphData:r.value,backgroundColor:"#090723",nodeAutoColorBy:"group",nodeThreeObject:u,nodeThreeObjectExtend:!0},null,8,["graphData"])}}});export{A as default};
