import{G as O}from"./dat.gui.module.6914edc7.js";import{f as V}from"./collide.db7c270d.js";import{d as b,a as E,n as w,o as B,g as L,i as S,j as P}from"./index.21410065.js";var I={},y={},_=34,D=10,F=13;function N(e){return new Function("d","return {"+e.map(function(t,o){return JSON.stringify(t)+": d["+o+'] || ""'}).join(",")+"}")}function Z(e,t){var o=N(e);return function(c,u){return t(o(c),u,e)}}function M(e){var t=Object.create(null),o=[];return e.forEach(function(c){for(var u in c)u in t||o.push(t[u]=u)}),o}function l(e,t){var o=e+"",c=o.length;return c<t?new Array(t-c+1).join(0)+o:o}function z(e){return e<0?"-"+l(-e,6):e>9999?"+"+l(e,6):l(e,4)}function W(e){var t=e.getUTCHours(),o=e.getUTCMinutes(),c=e.getUTCSeconds(),u=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":z(e.getUTCFullYear())+"-"+l(e.getUTCMonth()+1,2)+"-"+l(e.getUTCDate(),2)+(u?"T"+l(t,2)+":"+l(o,2)+":"+l(c,2)+"."+l(u,3)+"Z":c?"T"+l(t,2)+":"+l(o,2)+":"+l(c,2)+"Z":o||t?"T"+l(t,2)+":"+l(o,2)+"Z":"")}function Y(e){var t=new RegExp('["'+e+`
\r]`),o=e.charCodeAt(0);function c(n,r){var s,a,i=u(n,function(m,p){if(s)return s(m,p-1);a=m,s=r?Z(m,r):N(m)});return i.columns=a||[],i}function u(n,r){var s=[],a=n.length,i=0,m=0,p,g=a<=0,v=!1;n.charCodeAt(a-1)===D&&--a,n.charCodeAt(a-1)===F&&--a;function G(){if(g)return y;if(v)return v=!1,I;var T,R=i,C;if(n.charCodeAt(R)===_){for(;i++<a&&n.charCodeAt(i)!==_||n.charCodeAt(++i)===_;);return(T=i)>=a?g=!0:(C=n.charCodeAt(i++))===D?v=!0:C===F&&(v=!0,n.charCodeAt(i)===D&&++i),n.slice(R+1,T-1).replace(/""/g,'"')}for(;i<a;){if((C=n.charCodeAt(T=i++))===D)v=!0;else if(C===F)v=!0,n.charCodeAt(i)===D&&++i;else if(C!==o)continue;return n.slice(R,T)}return g=!0,n.slice(R,a)}for(;(p=G())!==y;){for(var j=[];p!==I&&p!==y;)j.push(p),p=G();r&&(j=r(j,m++))==null||s.push(j)}return s}function A(n,r){return n.map(function(s){return r.map(function(a){return h(s[a])}).join(e)})}function U(n,r){return r==null&&(r=M(n)),[r.map(h).join(e)].concat(A(n,r)).join(`
`)}function k(n,r){return r==null&&(r=M(n)),A(n,r).join(`
`)}function f(n){return n.map(d).join(`
`)}function d(n){return n.map(h).join(e)}function h(n){return n==null?"":n instanceof Date?W(n):t.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:c,parseRows:u,format:U,formatBody:k,formatRows:f,formatRow:d,formatValue:h}}var q=Y(","),H=q.parse;const K=b({__name:"tree",setup(e){const t=E(),o=E({"DAG Orientation":"td"}),c=E(),u=E({nodes:[],links:[]});function A(){const f=new O;c.value=f,f.add(o.value,"DAG Orientation",["td","bu","lr","rl","radialout","radialin",null]);const d=f.domElement;d.style.float="left",d.style.marginLeft="24px",d.style.marginTop="24px"}function U(){t.value.d3Force("collision",V(f=>Math.sqrt(100/(f.level+1))))}function k(){fetch("/d3-dependencies.csv").then(f=>f.text()).then(H).then(f=>{const d=[],h=[];f.forEach(({size:n,path:r})=>{const s=r.split("/"),a=s.length-1,i=a>0?s[1]:null,m=s.pop(),p=s.join("/"),g={path:r,leaf:m,module:i,size:+n||20,level:a};d.push(g),p&&h.push({source:p,target:r,targetNode:g})}),u.value={nodes:d,links:h}})}return w(()=>{A(),U(),k()}),B(()=>{c.value.destroy()}),(f,d)=>{const h=S("VueForceGraph2D");return P(),L(h,{ref_key:"fgRef",ref:t,graphData:u.value,backgroundColor:"#090723",dagMode:o.value["DAG Orientation"],dagLevelDistance:300,linkColor:()=>"rgba(255,255,255,0.2)",nodeRelSize:1,nodeId:"path",nodeVal:n=>100/(n.level+1),nodeLabel:"path",nodeAutoColorBy:"module",linkDirectionalParticles:2,linkDirectionalParticleWidth:2,d3VelocityDecay:.3},null,8,["graphData","dagMode","linkColor","nodeVal","d3VelocityDecay"])}}});export{K as default};
